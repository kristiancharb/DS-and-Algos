'''
i : 0       i : 1       i : 3
0,0 -> 0,3  1,0 -> 0,2  2,0 -> 0,1
0,1 -> 1,3  1,1 -> 1,2  2,1 -> 1,1
0,2 -> 2,3  1,2 -> 2,2  2,2 -> 2,1
0,3 -> 3,3  1,3 -> 3,2  2,3 -> 3,1

0,0 -> 0,3 -> 3,3 -> 3,0
0,1 -> 1,3 -> 3,2 -> 2,0
0,2 -> 2,3 -> 3,1 -> 1,0

1,1 -> 1,2 -> 2,2 -> 2,1
'''
def rotate(m):
    n = len(m)

    for i in range(int(n/2)):
        for j in range(i, n-i-1):
            a = m[i][j]
            b = m[j][n-i-1]
            c = m[n-i-1][n-j-1]
            d = m[n-j-1][i]
            m[i][j] = d
            m[j][n-i-1] = a
            m[n-i-1][n-j-1] = b
            m[n-j-1][i] = c
 
if __name__ == "__main__":
    m = [
        [1, 2, 3, 4],
        [5, 6, 7, 8],
        [9, 10, 11, 12],
        [13, 14, 15, 16]
    ]
    rotate(m)
    for line in m:
        print(line)